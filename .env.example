# MeStore Environment Configuration Template
# Copy this file to .env and customize for your environment
# SECURITY: Never commit actual secrets to version control

# ===== ENVIRONMENT CONFIGURATION =====
ENVIRONMENT=development
DEBUG=true
TESTING=false

# ===== DATABASE CONFIGURATION =====
# Development: SQLite (default)
DATABASE_URL=sqlite+aiosqlite:///./mestore_development.db

# Production: PostgreSQL (uncomment and configure)
# DATABASE_URL=postgresql+asyncpg://username:password@host:port/database

# Database Connection Pool Settings
DB_ECHO=false
DB_HOST=localhost
DB_PORT=5432
DB_USER=mestocker_user
DB_PASSWORD=CHANGE_THIS_SECURE_PASSWORD_MIN_16_CHARS
DB_NAME=mestocker_dev

# ===== SECURITY CONFIGURATION =====
# JWT Secret - MUST be changed for production
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
SECRET_KEY=CHANGE_THIS_JWT_SECRET_MINIMUM_32_CHARACTERS_FOR_DEV_64_FOR_PROD

# JWT Settings
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_MINUTES=10080

# ===== REDIS CONFIGURATION =====
REDIS_URL=redis://:CHANGE_THIS_REDIS_PASSWORD@localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# Redis Database Separation
REDIS_CACHE_DB=0
REDIS_SESSION_DB=1
REDIS_QUEUE_DB=2

# Redis Connection URLs
REDIS_CACHE_URL=redis://:CHANGE_THIS_REDIS_PASSWORD@localhost:6379/0
REDIS_SESSION_URL=redis://:CHANGE_THIS_REDIS_PASSWORD@localhost:6379/1
REDIS_QUEUE_URL=redis://:CHANGE_THIS_REDIS_PASSWORD@localhost:6379/2

# Redis TTL Configuration (seconds)
REDIS_CACHE_TTL=3600
REDIS_SESSION_TTL=86400
REDIS_TEMP_CACHE_TTL=300
REDIS_LONG_CACHE_TTL=604800

# ===== CORS CONFIGURATION =====
# Development CORS origins (customize for your setup)
CORS_ORIGINS=http://localhost:5173,http://localhost:3000,http://127.0.0.1:5173
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=Authorization,Content-Type,Accept,X-Requested-With,Cache-Control,X-API-Key

# ===== RATE LIMITING =====
RATE_LIMIT_AUTHENTICATED_PER_MINUTE=100
RATE_LIMIT_ANONYMOUS_PER_MINUTE=30

# Security Settings
SUSPICIOUS_IPS=""
ENABLE_IP_BLACKLIST=true

# ===== LOGGING CONFIGURATION =====
LOG_LEVEL=DEBUG
LOG_DIR=logs
LOG_FILE_PREFIX=mestocker
LOG_ROTATION_SIZE=10MB
LOG_ROTATION_COUNT=5
LOG_ROTATION_TIME=midnight
LOG_ROTATION_INTERVAL=1

# ===== EMAIL CONFIGURATION =====
# SendGrid Configuration
SENDGRID_API_KEY=your_sendgrid_api_key_here
FROM_EMAIL=noreply@mestore.com
FROM_NAME=MeStore

# Password Reset Settings
RESET_TOKEN_EXPIRY_HOURS=1
RESET_COOLDOWN_MINUTES=5
RESET_MAX_ATTEMPTS=3

# ===== SMS/OTP CONFIGURATION =====
# Twilio Configuration
TWILIO_ACCOUNT_SID=your_twilio_account_sid_here
TWILIO_AUTH_TOKEN=your_twilio_auth_token_here
TWILIO_FROM_NUMBER=your_twilio_phone_number
TWILIO_VERIFY_SERVICE_SID=your_twilio_verify_service_sid

# OTP Settings
OTP_EXPIRATION_MINUTES=5
OTP_MAX_ATTEMPTS=3
SMS_ENABLED=true
EMAIL_OTP_ENABLED=true

# ===== PAYMENT GATEWAY CONFIGURATION =====
# Wompi Payment Gateway (Colombian market)
WOMPI_PUBLIC_KEY=your_wompi_public_key_here
WOMPI_PRIVATE_KEY=your_wompi_private_key_here
WOMPI_ENVIRONMENT=test
WOMPI_WEBHOOK_SECRET=your_wompi_webhook_secret_here
WOMPI_BASE_URL=https://sandbox.wompi.co/v1

# ===== FILE UPLOAD CONFIGURATION =====
UPLOAD_DIR=uploads
MAX_FILE_SIZE=5242880
MAX_FILES_PER_UPLOAD=10

# Static Files
STATIC_URL=/static
MEDIA_URL=/media

# Watermark Configuration
WATERMARK_ENABLED=true
WATERMARK_LOGO_PATH=app/static/logos/mestocker_logo.png
WATERMARK_OPACITY=0.7
WATERMARK_POSITION=bottom_right
WATERMARK_MARGIN=10
OUTPUT_FORMAT=JPEG

# ===== VECTOR DATABASE CONFIGURATION =====
CHROMA_PERSIST_DIR=./data/chroma

# ===== SECURITY NOTES =====
# 1. Always use strong, unique passwords for each environment
# 2. Never commit actual secrets to version control
# 3. Use environment-specific secret management in production
# 4. Rotate secrets regularly (recommendation: every 90 days)
# 5. Monitor for secret exposure in logs and error messages
# 6. Use Docker secrets for containerized deployments