# ~/env.production.template
# ---------------------------------------------------------------------------------------------
# MESTORE - Production Environment Configuration Template
# Copyright (c) 2025 Jairo. Todos los derechos reservados.
# Licensed under the proprietary license detailed in a LICENSE file in the root of this project.
# ---------------------------------------------------------------------------------------------
#
# Nombre del Archivo: .env.production.template
# Ruta: ~/.env.production.template
# Autor: DevOps Integration AI
# Fecha de Creación: 2025-09-17
# Última Actualización: 2025-09-17
# Versión: 1.0.0
# Propósito: Template de variables de entorno para producción
#            Configuración optimizada para alta disponibilidad y seguridad
#
# Modificaciones:
# 2025-09-17 - Template inicial para producción
#
# INSTRUCCIONES:
# 1. Copiar este archivo a .env.production
# 2. Rellenar todas las variables con valores reales de producción
# 3. NUNCA commitear .env.production al repositorio
# 4. Usar secretos seguros y únicos para producción
#
# ---------------------------------------------------------------------------------------------

# ===== APLICACIÓN =====
ENVIRONMENT=production
DEBUG=false
TESTING=false

# ===== SEGURIDAD =====
# GENERAR CON: openssl rand -hex 32
SECRET_KEY=CHANGE_ME_GENERATE_SECURE_KEY_HERE
JWT_SECRET_KEY=CHANGE_ME_GENERATE_JWT_SECRET_HERE
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=30

# ===== BASE DE DATOS =====
DATABASE_URL=postgresql+asyncpg://mestore_prod_user:SECURE_DB_PASSWORD@postgres:5432/mestore_production
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=mestore_production
POSTGRES_USER=mestore_prod_user
POSTGRES_PASSWORD=CHANGE_ME_SECURE_DB_PASSWORD

# ===== REDIS =====
REDIS_URL=redis://:SECURE_REDIS_PASSWORD@redis:6379/0
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_SECURE_REDIS_PASSWORD
REDIS_DB=0

# ===== SERVIDOR WEB =====
UVICORN_HOST=0.0.0.0
UVICORN_PORT=8000
UVICORN_WORKERS=4
UVICORN_LOG_LEVEL=info
UVICORN_LOOP=uvloop
UVICORN_HTTP=httptools
UVICORN_ACCESS_LOG=true

# ===== PUERTOS DE SERVICIOS =====
BACKEND_PORT=8000
FRONTEND_PORT=80
HTTP_PORT=80
HTTPS_PORT=443
POSTGRES_PORT=5432
REDIS_PORT=6379

# ===== MONITORING =====
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
GRAFANA_PASSWORD=CHANGE_ME_SECURE_GRAFANA_PASSWORD

# ===== LOGGING =====
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE=/home/appuser/app/logs/app.log
ACCESS_LOG_FILE=/home/appuser/app/logs/access.log
ERROR_LOG_FILE=/home/appuser/app/logs/error.log

# ===== CORS Y SECURITY =====
ALLOWED_HOSTS=mestore.com,www.mestore.com,api.mestore.com
CORS_ORIGINS=https://mestore.com,https://www.mestore.com
CORS_ALLOW_CREDENTIALS=true

# ===== BACKUP Y RECOVERY =====
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_S3_BUCKET=mestore-backups-prod
BACKUP_S3_REGION=us-east-1

# ===== RATE LIMITING =====
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_BURST=200

# ===== SECURITY HEADERS =====
SECURITY_HEADERS_ENABLED=true
HSTS_MAX_AGE=31536000
CSP_ENABLED=true

# ===== EMAIL (PARA NOTIFICACIONES) =====
SMTP_HOST=smtp.production-email-service.com
SMTP_PORT=587
SMTP_USER=noreply@mestore.com
SMTP_PASSWORD=CHANGE_ME_SMTP_PASSWORD
SMTP_TLS=true

# ===== PAYMENTS (WOMPI) =====
WOMPI_ENVIRONMENT=production
WOMPI_PUBLIC_KEY=pub_prod_WOMPI_PUBLIC_KEY_HERE
WOMPI_PRIVATE_KEY=prv_prod_WOMPI_PRIVATE_KEY_HERE
WOMPI_WEBHOOK_SECRET=WOMPI_WEBHOOK_SECRET_HERE

# ===== EXTERNAL SERVICES =====
# SSL Certificates
SSL_CERT_PATH=/etc/nginx/ssl/mestore.com.crt
SSL_KEY_PATH=/etc/nginx/ssl/mestore.com.key

# CDN Configuration
CDN_URL=https://cdn.mestore.com
STATIC_URL=https://static.mestore.com

# ===== MIGRACIONES =====
RUN_MIGRATIONS=true
ALEMBIC_CONFIG=alembic.ini

# ===== HEALTH CHECKS =====
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# ===== PERFORMANCE =====
# Database connection pool
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30

# Redis connection pool
REDIS_POOL_SIZE=10
REDIS_MAX_CONNECTIONS=20

# ===== ALERTING =====
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR/DISCORD/WEBHOOK

# ===== METRICS Y OBSERVABILITY =====
METRICS_ENABLED=true
TRACING_ENABLED=true
JAEGER_ENDPOINT=http://jaeger:14268/api/traces

# ===== FEATURE FLAGS =====
FEATURE_SEARCH_ENABLED=true
FEATURE_COMMISSION_SYSTEM_ENABLED=true
FEATURE_ADMIN_PORTAL_ENABLED=true
FEATURE_VENDOR_DASHBOARD_ENABLED=true

# ===== CUSTOM APPLICATION SETTINGS =====
# Maximum file upload size (MB)
MAX_UPLOAD_SIZE=10

# QR Code settings
QR_CODE_SIZE=300
QR_CODE_FORMAT=PNG

# Commission settings
DEFAULT_COMMISSION_RATE=0.05  # 5%
COMMISSION_PAYMENT_SCHEDULE=monthly

# ===== INFRASTRUCTURE =====
# Container resource limits
CONTAINER_MEMORY_LIMIT=1G
CONTAINER_CPU_LIMIT=0.5

# Network settings
NETWORK_SUBNET=172.20.0.0/16

# ===== DATOS DE EJEMPLO DESHABILITADOS EN PRODUCCIÓN =====
LOAD_SAMPLE_DATA=false
CREATE_SAMPLE_USERS=false

# ===== DEVELOPMENT/DEBUG DESHABILITADO =====
RELOAD=false
AUTO_RELOAD=false
DEV_MODE=false